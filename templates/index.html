<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinAdvisor - Financial Advisory Tool</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="main-card">
            <!-- Header Section -->
            <!-- Header Section -->
            <div class="header-section">
                <h1>FinAdvisor - Financial Advisory Tool for Contextually-Aware Personal Finance Assistance</h1>
                <p>Generate quick, personal advice focused on wealth/finance.</p>
            </div>
            
            <!-- Main Content -->
            <div class="p-4">
                <form id="advisoryForm">
                    <!-- Input Row: Instruction and Input side by side -->
                    <div class="input-row">
                        <div class="col">
                            <label for="instruction" class="form-label">Instruction</label>
                            <textarea 
                                class="form-control" 
                                id="instruction" 
                                rows="3" 
                                placeholder="When should I get a second credit card?"
                                required>
                            </textarea>
                        </div>
                        <div class="col">
                            <label for="input" class="form-label">Input</label>
                            <textarea 
                                class="form-control" 
                                id="input" 
                                rows="3" 
                                placeholder="none">
                            </textarea>
                        </div>
                    </div>

                    <!-- Model Selection -->
                    <div class="mb-3">
                        <label for="model" class="form-label">Model</label>
                        <select class="form-select" id="model">
                            {% for model in available_models %}
                            <option value="{{ model }}" {% if loop.first %}selected{% endif %}>{{ model }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <!-- Parameters Row -->
                    <div class="parameter-row">
                        <div class="col">
                            <label for="temperature" class="form-label">Temperature <span id="temp-value">0.6</span></label>
                            <input type="range" class="form-range" id="temperature" min="0" max="1" step="0.01" value="0.6">
                        </div>
                        <div class="col">
                            <label for="top_p" class="form-label">Top p <span id="top-p-value">0.95</span></label>
                            <input type="range" class="form-range" id="top_p" min="0" max="1" step="0.01" value="0.95">
                        </div>
                        <div class="col">
                            <label for="max_tokens" class="form-label">Max tokens <span id="max-tokens-value">256</span></label>
                            <input type="range" class="form-range" id="max_tokens" min="1" max="512" step="1" value="256">
                        </div>
                        <div class="col">
                            <label for="repetition_penalty" class="form-label">Repetition Penalty <span id="rep-penalty-value">1.15</span></label>
                            <input type="range" class="form-range" id="repetition_penalty" min="1" max="2" step="0.01" value="1.15">
                        </div>
                    </div>

                    <!-- Output Section -->
                    <div class="mb-3">
                        <label class="form-label">Output</label>
                        <div id="response" class="response-output">If you are not going to trade your stock in this merger, sell it now. The price will be high because there won't be any competition for shares when they become publicly traded again.</div>
                    </div>

                    <!-- Evaluate Button -->
                    <div class="text-center mb-4">
                        <button type="submit" class="btn btn-primary" id="generateBtn">
                            <span class="spinner-border spinner-border-sm me-2 d-none" id="loadingSpinner"></span>
                            Evaluate
                        </button>
                    </div>

                    <!-- Model Selection Info -->
                    <div class="model-selection-info">
                        <h6>Model Selection</h6>
                        <p><strong>Selected model:</strong> <span id="selected-model-display">LLaMa 7B</span></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
